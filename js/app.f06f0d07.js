(function(){"use strict";var e={531:function(e,t,n){var r=n(6369),i=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("Header"),t("router-view")],1)},s=[],o=function(){var e=this,t=e._self._c;return t("div",{staticClass:"header"},[t("ul",[t("li",[t("router-link",{attrs:{to:"/Text","active-class":"active"}},[e._v("文档")])],1),t("li",[t("router-link",{attrs:{to:"/img","active-class":"active"}},[e._v("图片")])],1)])])},a=[],l={name:"MyHeader"},u=l,c=n(1001),m=(0,c.Z)(u,o,a,!1,null,"00d16008",null),d=m.exports,h={name:"App",components:{Header:d},methods:{open(){this.$alert("免费次数已用完，请续费使用","提示!",{confirmButtonText:"确定",callback:e=>{this.$message({type:"info",message:`action: ${e}`})}})},Judge(){this.$store.state.YON&&this.open()}},mounted(){this.$bus.$on("Judge",this.Judge)}},p=h,g=(0,c.Z)(p,i,s,!1,null,null,null),f=g.exports,v=n(2631),A=function(){var e=this,t=e._self._c;return t("div",{staticClass:"openaiImg"},[t("ImgHeader",{on:{getImg:e.generateImage}}),t("ImgAnswer",{attrs:{error:e.error,Allquestionimg:e.Allquestionimg,ALLimage:e.ALLimage}})],1)},x=[],w=(n(541),n(8379)),_=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"question"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.question,expression:"question"}],attrs:{type:"text",placeholder:"Please enter the question"},domProps:{value:e.question},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getImg.apply(null,arguments)},input:function(t){t.target.composing||(e.question=t.target.value)}}})])])},q=[],y={name:"ImgHeader",data(){return{question:""}},methods:{getImg(){this.question.trim()&&(this.$emit("getImg",this.question),this.question="")}}},L=y,b=(0,c.Z)(L,_,q,!1,null,"f4c5548a",null),I=b.exports,T=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"Img"},[t("transition-group",{staticClass:"animate__animated animate__bounce",attrs:{"enter-active-class":"animate__bounceIn","leave-active-class":"animate__bounceOut"}},e._l(e.Allquestionimg,(function(n,r){return t("ImgItem",{key:n.id,attrs:{i:n,index:r,error:e.error,ALLimage:e.ALLimage}})})),1)],1)])},O=[],$=function(){var e=this,t=e._self._c;return t("div",{staticClass:"father"},[t("div",{staticClass:"questionimg",domProps:{innerHTML:e._s(e.i.value)}}),t("h2",{directives:[{name:"show",rawName:"v-show",value:"加载中。。。"===e.ALLimage[e.index],expression:"ALLimage[index]==='加载中。。。'"}]},[e._v("加载中。。。")]),t("div",{staticClass:"img"},[t("h2",{directives:[{name:"show",rawName:"v-show",value:e.error[e.index],expression:"error[index]"}]},[e._v(e._s(e.error[e.index]))]),t("img",{directives:[{name:"show",rawName:"v-show",value:e.ALLimage[e.index]&&!e.error[e.index]&&"加载中。。。"!=e.ALLimage[e.index],expression:"ALLimage[index]&&!error[index]&&ALLimage[index]!='加载中。。。'"}],attrs:{src:e.ALLimage[e.index],alt:"生成的图片"}})]),t("button",{staticClass:"delete",on:{click:function(t){return e.Delete(e.i)}}},[e._v("删除")])])},S=[],N={name:"ImgItem",props:["i","index","ALLimage","error"],methods:{Delete(e){this.$bus.$emit("DeleteImg",e)}}},k=N,C=(0,c.Z)(k,$,S,!1,null,"1f6483ca",null),D=C.exports,J={name:"ImgAnswer",props:["error","Allquestionimg","ALLimage"],components:{ImgItem:D}},P=J,Z=(0,c.Z)(P,T,O,!1,null,"4d25eac6",null),H=Z.exports,M={name:"MyImg",components:{ImgHeader:I,ImgAnswer:H},data(){return{error:JSON.parse(localStorage.getItem("error"))||[],Allquestionimg:JSON.parse(localStorage.getItem("Allquestionimg"))||[],ALLimage:JSON.parse(localStorage.getItem("ALLimage"))||[]}},watch:{Allquestionimg:{deep:!0,handler(e){localStorage.setItem("Allquestionimg",JSON.stringify(e))}},ALLimage:{deep:!0,handler(e){localStorage.setItem("ALLimage",JSON.stringify(e))}},error:{deep:!0,handler(e){localStorage.setItem("error",JSON.stringify(e))}}},methods:{Delete(e){for(let t=0;t<this.Allquestionimg.length;t++)this.Allquestionimg[t]==e&&(this.Allquestionimg.splice(t,1),this.ALLimage.splice(t,1),this.error.splice(t,1))},async generateImage(e){this.Allquestionimg.unshift({id:Date.now(),value:e}),this.ALLimage.unshift("加载中。。。");const t=new w.Configuration({apiKey:"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"}),n=new w.OpenAIApi(t);await n.createImage({prompt:e,size:"1024x1024",response_format:"url",n:1}).then((e=>{this.ALLimage.splice(0,1,e.data.data[0].url),this.error.unshift("")}),(e=>{this.ALLimage.splice(0,1,e.message),this.ALLimage.unshift(this.error)})),this.$store.commit("ADD"),this.$bus.$emit("Judge")}},mounted(){this.$bus.$on("DeleteImg",this.Delete)},beforeDestroy(){this.$bus.$off("DeleteImg")}},j=M,B=(0,c.Z)(j,A,x,!1,null,"dbfc7e84",null),Y=B.exports,F=function(){var e=this,t=e._self._c;return t("div",[t("Head"),t("Answer",{attrs:{Allanswer:e.Allanswer,Allquestion:e.Allquestion,Texterror:e.Texterror}})],1)},K=[],z=function(){var e=this,t=e._self._c;return t("div",{staticClass:"root"},[t("transition-group",{staticClass:"animate__animated animate__bounce",attrs:{"enter-active-class":"animate__bounceIn","leave-active-class":"animate__bounceOut"}},e._l(e.Allquestion,(function(n,r){return t("TextItem",{key:n.id,attrs:{a:n,index:r,Allanswer:e.Allanswer,Texterror:e.Texterror}})})),1)],1)},E=[],V=function(){var e=this,t=e._self._c;return t("div",{staticClass:"answer father"},[t("div",{staticClass:"answer one",domProps:{innerHTML:e._s(e.a.value)}}),t("h2",{directives:[{name:"show",rawName:"v-show",value:"加载中。。。"===e.Allanswer[e.index],expression:"Allanswer[index]==='加载中。。。'"}]},[e._v("加载中。。。")]),t("h2",{directives:[{name:"show",rawName:"v-show",value:e.Texterror[e.index],expression:"Texterror[index]"}],domProps:{innerHTML:e._s(e.Texterror[e.index])}}),t("div",{directives:[{name:"show",rawName:"v-show",value:e.Allanswer[e.index]&&!e.Texterror[e.index]&&"加载中。。。"!=e.Allanswer[e.index],expression:"Allanswer[index]&&!Texterror[index]&&Allanswer[index]!='加载中。。。'"}],staticClass:"answer two",domProps:{innerHTML:e._s(e.Allanswer[e.index])}}),t("button",{staticClass:"delete",on:{click:function(t){return e.Delete(e.a)}}},[e._v("删除")])])},U=[],G={name:"TextItem",props:["a","index","Allanswer","Texterror"],methods:{Delete(e){this.$bus.$emit("delete",e)}}},Q=G,R=(0,c.Z)(Q,V,U,!1,null,"8f6a5e16",null),W=R.exports,X={name:"MyAnswer",props:["Allquestion","Allanswer","Texterror"],components:{TextItem:W},methods:{Delete(e){this.$bus.$emit("delete",e)}}},ee=X,te=(0,c.Z)(ee,z,E,!1,null,"c0632918",null),ne=te.exports,re=function(){var e=this,t=e._self._c;return t("div",{staticClass:"question"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.question,expression:"question"}],attrs:{type:"text",placeholder:"请输入问题"},domProps:{value:e.question},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.getAnswer.apply(null,arguments)},input:function(t){t.target.composing||(e.question=t.target.value)}}})])},ie=[],se={name:"MyHead",data(){return{question:""}},methods:{getAnswer(){this.question&&(this.$bus.$emit("openai",this.question),this.question="")}}},oe=se,ae=(0,c.Z)(oe,re,ie,!1,null,"20ba0c40",null),le=ae.exports,ue=n(2868),ce={name:"MyMessage",components:{Answer:ne,Head:le},data(){return{Texterror:JSON.parse(localStorage.getItem("Texterror"))||[],Allquestion:JSON.parse(localStorage.getItem("Allquestion"))||[],Allanswer:JSON.parse(localStorage.getItem("Allanswer"))||[]}},watch:{Texterror:{deep:!0,handler(e){localStorage.setItem("Texterror",JSON.stringify(e))}},Allquestion:{deep:!0,handler(e){localStorage.setItem("Allquestion",JSON.stringify(e))}},Allanswer:{deep:!0,handler(e){localStorage.setItem("Allanswer",JSON.stringify(e))}}},methods:{async getAnswer(e){if(this.Allquestion.unshift({id:Date.now(),value:e}),this.$store.state.YON)return void this.Allanswer.unshift("请续费！");this.Allanswer.unshift("加载中。。。");const t=new w.Configuration({apiKey:"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"}),n=new w.OpenAIApi(t);await n.createCompletion({model:"text-davinci-003",prompt:e,temperature:.7,max_tokens:1024,top_p:1,frequency_penalty:0,presence_penalty:0}).then((e=>{let t=e.data.choices[0].text,n=(0,ue.TU)(t);this.Allanswer.splice(0,1,n),this.Texterror.unshift("")}),(e=>{this.Texterror.unshift(e.message),this.Allanswer.splice(0,1,e.message)})),this.$store.commit("ADD"),this.$store.dispatch("judge"),this.$bus.$emit("Judge")},Delete(e){for(let t=0;t<this.Allquestion.length;t++)this.Allquestion[t]==e&&(this.Allquestion.splice(t,1),this.Allanswer.splice(t,1),this.Texterror.splice(t,1))}},mounted(){this.$bus.$on("openai",this.getAnswer),this.$bus.$on("delete",this.Delete)},beforeDestroy(){this.$bus.$off("openai"),this.$bus.$off("delete")}},me=ce,de=(0,c.Z)(me,F,K,!1,null,"2e641c4a",null),he=de.exports,pe=new v.ZP({routes:[{path:"/Text",component:he},{path:"/img",component:Y},{path:"/",redirect:"/Text"}]}),ge=n(8499),fe=n.n(ge),ve=n(3822);r["default"].use(ve.ZP);const Ae={judge(e){e.state.choice>=5&&e.commit("YN")}},xe={ADD(e){e.choice+=1},YN(e){e.YON=!0}},we={choice:0,YON:!1};var _e=new ve.ZP.Store({actions:Ae,mutations:xe,state:we});r["default"].config.productionTip=!1,r["default"].use(v.ZP),r["default"].use(fe()),r["default"].use(ve.ZP),new r["default"]({el:"#app",render:e=>e(f),router:pe,store:_e,beforeCreate(){r["default"].prototype.$bus=this}})}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,loaded:!1,exports:{}};return e[r].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}n.m=e,function(){n.amdO={}}(),function(){var e=[];n.O=function(t,r,i,s){if(!r){var o=1/0;for(c=0;c<e.length;c++){r=e[c][0],i=e[c][1],s=e[c][2];for(var a=!0,l=0;l<r.length;l++)(!1&s||o>=s)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(a=!1,s<o&&(o=s));if(a){e.splice(c--,1);var u=i();void 0!==u&&(t=u)}}return t}s=s||0;for(var c=e.length;c>0&&e[c-1][2]>s;c--)e[c]=e[c-1];e[c]=[r,i,s]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){n.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var i,s,o=r[0],a=r[1],l=r[2],u=0;if(o.some((function(t){return 0!==e[t]}))){for(i in a)n.o(a,i)&&(n.m[i]=a[i]);if(l)var c=l(n)}for(t&&t(r);u<o.length;u++)s=o[u],n.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return n.O(c)},r=self["webpackChunkvueopenai"]=self["webpackChunkvueopenai"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(531)}));r=n.O(r)})();
//# sourceMappingURL=app.f06f0d07.js.map